var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){var n={exports:{}};return t(n,n.exports),n.exports}var e=function(t){return t&&t.Math==Math&&t},r=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||function(){return this}()||Function("return this")(),o=function(t){try{return!!t()}catch(t){return!0}},i=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),c={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,a={f:u&&!c.call({1:2},1)?function(t){var n=u(this,t);return!!n&&n.enumerable}:c},f=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},s={}.toString,l=function(t){return s.call(t).slice(8,-1)},p="".split,v=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==l(t)?p.call(t,""):Object(t)}:Object,h=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},y=function(t){return v(h(t))},d=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=function(t,n){if(!d(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!d(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!d(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!d(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,b=function(t,n){return m.call(t,n)},w=r.document,S=d(w)&&d(w.createElement),O=function(t){return S?w.createElement(t):{}},j=!i&&!o((function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})),A=Object.getOwnPropertyDescriptor,E={f:i?A:function(t,n){if(t=y(t),n=g(n,!0),j)try{return A(t,n)}catch(t){}if(b(t,n))return f(!a.f.call(t,n),t[n])}},T=function(t){if(!d(t))throw TypeError(String(t)+" is not an object");return t},P=Object.defineProperty,_={f:i?P:function(t,n,e){if(T(t),n=g(n,!0),T(e),j)try{return P(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported");return"value"in e&&(t[n]=e.value),t}},L=i?function(t,n,e){return _.f(t,n,f(1,e))}:function(t,n,e){return t[n]=e,t},x=function(t,n){try{L(r,t,n)}catch(e){r[t]=n}return n},k=r["__core-js_shared__"]||x("__core-js_shared__",{}),I=Function.toString;"function"!=typeof k.inspectSource&&(k.inspectSource=function(t){return I.call(t)});var M,C,R,F=k.inspectSource,N=r.WeakMap,D="function"==typeof N&&/native code/.test(F(N)),G=n((function(t){(t.exports=function(t,n){return k[t]||(k[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.8.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),V=0,z=Math.random(),B=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++V+z).toString(36)},H=G("keys"),U=function(t){return H[t]||(H[t]=B(t))},W={},q=r.WeakMap;if(D){var Y=k.state||(k.state=new q),K=Y.get,X=Y.has,J=Y.set;M=function(t,n){return n.facade=t,J.call(Y,t,n),n},C=function(t){return K.call(Y,t)||{}},R=function(t){return X.call(Y,t)}}else{var Q=U("state");W[Q]=!0,M=function(t,n){return n.facade=t,L(t,Q,n),n},C=function(t){return b(t,Q)?t[Q]:{}},R=function(t){return b(t,Q)}}var Z,$={set:M,get:C,has:R,enforce:function(t){return R(t)?C(t):M(t,{})},getterFor:function(t){return function(n){var e;if(!d(n)||(e=C(n)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return e}}},tt=n((function(t){var n=$.get,e=$.enforce,o=String(String).split("String");(t.exports=function(t,n,i,c){var u,a=!!c&&!!c.unsafe,f=!!c&&!!c.enumerable,s=!!c&&!!c.noTargetGet;"function"==typeof i&&("string"!=typeof n||b(i,"name")||L(i,"name",n),(u=e(i)).source||(u.source=o.join("string"==typeof n?n:""))),t!==r?(a?!s&&t[n]&&(f=!0):delete t[n],f?t[n]=i:L(t,n,i)):f?t[n]=i:x(n,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&n(this).source||F(this)}))})),nt=r,et=function(t){return"function"==typeof t?t:void 0},rt=function(t,n){return arguments.length<2?et(nt[t])||et(r[t]):nt[t]&&nt[t][n]||r[t]&&r[t][n]},ot=Math.ceil,it=Math.floor,ct=function(t){return isNaN(t=+t)?0:(t>0?it:ot)(t)},ut=Math.min,at=function(t){return t>0?ut(ct(t),9007199254740991):0},ft=Math.max,st=Math.min,lt=function(t,n){var e=ct(t);return e<0?ft(e+n,0):st(e,n)},pt=function(t){return function(n,e,r){var o,i=y(n),c=at(i.length),u=lt(r,c);if(t&&e!=e){for(;c>u;)if((o=i[u++])!=o)return!0}else for(;c>u;u++)if((t||u in i)&&i[u]===e)return t||u||0;return!t&&-1}},vt={includes:pt(!0),indexOf:pt(!1)}.indexOf,ht=function(t,n){var e,r=y(t),o=0,i=[];for(e in r)!b(W,e)&&b(r,e)&&i.push(e);for(;n.length>o;)b(r,e=n[o++])&&(~vt(i,e)||i.push(e));return i},yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],dt=yt.concat("length","prototype"),gt={f:Object.getOwnPropertyNames||function(t){return ht(t,dt)}},mt={f:Object.getOwnPropertySymbols},bt=rt("Reflect","ownKeys")||function(t){var n=gt.f(T(t)),e=mt.f;return e?n.concat(e(t)):n},wt=function(t,n){for(var e=bt(n),r=_.f,o=E.f,i=0;i<e.length;i++){var c=e[i];b(t,c)||r(t,c,o(n,c))}},St=/#|\.prototype\./,Ot=function(t,n){var e=At[jt(t)];return e==Tt||e!=Et&&("function"==typeof n?o(n):!!n)},jt=Ot.normalize=function(t){return String(t).replace(St,".").toLowerCase()},At=Ot.data={},Et=Ot.NATIVE="N",Tt=Ot.POLYFILL="P",Pt=Ot,_t=E.f,Lt=function(t,n){var e,o,i,c,u,a=t.target,f=t.global,s=t.stat;if(e=f?r:s?r[a]||x(a,{}):(r[a]||{}).prototype)for(o in n){if(c=n[o],i=t.noTargetGet?(u=_t(e,o))&&u.value:e[o],!Pt(f?o:a+(s?".":"#")+o,t.forced)&&void 0!==i){if(typeof c==typeof i)continue;wt(c,i)}(t.sham||i&&i.sham)&&L(c,"sham",!0),tt(e,o,c,t)}},xt=function(t){return Object(h(t))},kt=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())})),It=kt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Mt=G("wks"),Ct=r.Symbol,Rt=It?Ct:Ct&&Ct.withoutSetter||B,Ft=function(t){return b(Mt,t)||(kt&&b(Ct,t)?Mt[t]=Ct[t]:Mt[t]=Rt("Symbol."+t)),Mt[t]},Nt=Object.keys||function(t){return ht(t,yt)},Dt=i?Object.defineProperties:function(t,n){T(t);for(var e,r=Nt(n),o=r.length,i=0;o>i;)_.f(t,e=r[i++],n[e]);return t},Gt=rt("document","documentElement"),Vt=U("IE_PROTO"),zt=function(){},Bt=function(t){return"<script>"+t+"<\/script>"},Ht=function(){try{Z=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,n;Ht=Z?function(t){t.write(Bt("")),t.close();var n=t.parentWindow.Object;return t=null,n}(Z):((n=O("iframe")).style.display="none",Gt.appendChild(n),n.src=String("javascript:"),(t=n.contentWindow.document).open(),t.write(Bt("document.F=Object")),t.close(),t.F);for(var e=yt.length;e--;)delete Ht.prototype[yt[e]];return Ht()};W[Vt]=!0;var Ut=Object.create||function(t,n){var e;return null!==t?(zt.prototype=T(t),e=new zt,zt.prototype=null,e[Vt]=t):e=Ht(),void 0===n?e:Dt(e,n)},Wt=Ft("unscopables"),qt=Array.prototype;null==qt[Wt]&&_.f(qt,Wt,{configurable:!0,value:Ut(null)});var Yt=function(t){qt[Wt][t]=!0};Lt({target:"Array",proto:!0},{fill:function(t){for(var n=xt(this),e=at(n.length),r=arguments.length,o=lt(r>1?arguments[1]:void 0,e),i=r>2?arguments[2]:void 0,c=void 0===i?e:lt(i,e);c>o;)n[o++]=t;return n}}),Yt("fill");var Kt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Xt=function(t,n,e){if(Kt(t),void 0===n)return t;switch(e){case 0:return function(){return t.call(n)};case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}},Jt=function(t){var n=t.return;if(void 0!==n)return T(n.call(t)).value},Qt=function(t,n,e,r){try{return r?n(T(e)[0],e[1]):n(e)}catch(n){throw Jt(t),n}},Zt={},$t=Ft("iterator"),tn=Array.prototype,nn=function(t){return void 0!==t&&(Zt.Array===t||tn[$t]===t)},en=function(t,n,e){var r=g(n);r in t?_.f(t,r,f(0,e)):t[r]=e},rn={};rn[Ft("toStringTag")]="z";var on="[object z]"===String(rn),cn=Ft("toStringTag"),un="Arguments"==l(function(){return arguments}()),an=on?l:function(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),cn))?e:un?l(n):"Object"==(r=l(n))&&"function"==typeof n.callee?"Arguments":r},fn=Ft("iterator"),sn=function(t){if(null!=t)return t[fn]||t["@@iterator"]||Zt[an(t)]},ln=Ft("iterator"),pn=!1;try{var vn=0,hn={next:function(){return{done:!!vn++}},return:function(){pn=!0}};hn[ln]=function(){return this},Array.from(hn,(function(){throw 2}))}catch(t){}var yn=function(t,n){if(!n&&!pn)return!1;var e=!1;try{var r={};r[ln]=function(){return{next:function(){return{done:e=!0}}}},t(r)}catch(t){}return e},dn=!yn((function(t){Array.from(t)}));Lt({target:"Array",stat:!0,forced:dn},{from:function(t){var n,e,r,o,i,c,u=xt(t),a="function"==typeof this?this:Array,f=arguments.length,s=f>1?arguments[1]:void 0,l=void 0!==s,p=sn(u),v=0;if(l&&(s=Xt(s,f>2?arguments[2]:void 0,2)),null==p||a==Array&&nn(p))for(e=new a(n=at(u.length));n>v;v++)c=l?s(u[v],v):u[v],en(e,v,c);else for(i=(o=p.call(u)).next,e=new a;!(r=i.call(o)).done;v++)c=l?Qt(o,s,[r.value,v],!0):r.value,en(e,v,c);return e.length=v,e}});var gn,mn,bn=Array.isArray||function(t){return"Array"==l(t)},wn=rt("navigator","userAgent")||"",Sn=r.process,On=Sn&&Sn.versions,jn=On&&On.v8;jn?mn=(gn=jn.split("."))[0]+gn[1]:wn&&(!(gn=wn.match(/Edge\/(\d+)/))||gn[1]>=74)&&(gn=wn.match(/Chrome\/(\d+)/))&&(mn=gn[1]);var An=mn&&+mn,En=Ft("species"),Tn=Object.defineProperty,Pn={},_n=function(t){throw t},Ln=function(t){return An>=51||!o((function(){var n=[];return(n.constructor={})[En]=function(){return{foo:1}},1!==n[t](Boolean).foo}))}("slice"),xn=function(t,n){if(b(Pn,t))return Pn[t];n||(n={});var e=[][t],r=!!b(n,"ACCESSORS")&&n.ACCESSORS,c=b(n,0)?n[0]:_n,u=b(n,1)?n[1]:void 0;return Pn[t]=!!e&&!o((function(){if(r&&!i)return!0;var t={length:-1};r?Tn(t,1,{enumerable:!0,get:_n}):t[1]=1,e.call(t,c,u)}))}("slice",{ACCESSORS:!0,0:0,1:2}),kn=Ft("species"),In=[].slice,Mn=Math.max;Lt({target:"Array",proto:!0,forced:!Ln||!xn},{slice:function(t,n){var e,r,o,i=y(this),c=at(i.length),u=lt(t,c),a=lt(void 0===n?c:n,c);if(bn(i)&&("function"!=typeof(e=i.constructor)||e!==Array&&!bn(e.prototype)?d(e)&&null===(e=e[kn])&&(e=void 0):e=void 0,e===Array||void 0===e))return In.call(i,u,a);for(r=new(void 0===e?Array:e)(Mn(a-u,0)),o=0;u<a;u++,o++)u in i&&en(r,o,i[u]);return r.length=o,r}});var Cn=on?{}.toString:function(){return"[object "+an(this)+"]"};on||tt(Object.prototype,"toString",Cn,{unsafe:!0});var Rn,Fn,Nn,Dn=r.Promise,Gn=_.f,Vn=Ft("toStringTag"),zn=function(t,n,e){t&&!b(t=e?t:t.prototype,Vn)&&Gn(t,Vn,{configurable:!0,value:n})},Bn=Ft("species"),Hn=function(t,n){this.stopped=t,this.result=n},Un=function(t,n,e){var r,o,i,c,u,a,f,s=e&&e.that,l=!(!e||!e.AS_ENTRIES),p=!(!e||!e.IS_ITERATOR),v=!(!e||!e.INTERRUPTED),h=Xt(n,s,1+l+v),y=function(t){return r&&Jt(r),new Hn(!0,t)},d=function(t){return l?(T(t),v?h(t[0],t[1],y):h(t[0],t[1])):v?h(t,y):h(t)};if(p)r=t;else{if("function"!=typeof(o=sn(t)))throw TypeError("Target is not iterable");if(nn(o)){for(i=0,c=at(t.length);c>i;i++)if((u=d(t[i]))&&u instanceof Hn)return u;return new Hn(!1)}r=o.call(t)}for(a=r.next;!(f=a.call(r)).done;){try{u=d(f.value)}catch(t){throw Jt(r),t}if("object"==typeof u&&u&&u instanceof Hn)return u}return new Hn(!1)},Wn=Ft("species"),qn=function(t,n){var e,r=T(t).constructor;return void 0===r||null==(e=T(r)[Wn])?n:Kt(e)},Yn=/(iphone|ipod|ipad).*applewebkit/i.test(wn),Kn="process"==l(r.process),Xn=r.location,Jn=r.setImmediate,Qn=r.clearImmediate,Zn=r.process,$n=r.MessageChannel,te=r.Dispatch,ne=0,ee={},re=function(t){if(ee.hasOwnProperty(t)){var n=ee[t];delete ee[t],n()}},oe=function(t){return function(){re(t)}},ie=function(t){re(t.data)},ce=function(t){r.postMessage(t+"",Xn.protocol+"//"+Xn.host)};Jn&&Qn||(Jn=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return ee[++ne]=function(){("function"==typeof t?t:Function(t)).apply(void 0,n)},Rn(ne),ne},Qn=function(t){delete ee[t]},Kn?Rn=function(t){Zn.nextTick(oe(t))}:te&&te.now?Rn=function(t){te.now(oe(t))}:$n&&!Yn?(Nn=(Fn=new $n).port2,Fn.port1.onmessage=ie,Rn=Xt(Nn.postMessage,Nn,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts&&Xn&&"file:"!==Xn.protocol&&!o(ce)?(Rn=ce,r.addEventListener("message",ie,!1)):Rn="onreadystatechange"in O("script")?function(t){Gt.appendChild(O("script")).onreadystatechange=function(){Gt.removeChild(this),re(t)}}:function(t){setTimeout(oe(t),0)});var ue,ae,fe,se,le,pe,ve,he,ye={set:Jn,clear:Qn},de=/web0s(?!.*chrome)/i.test(wn),ge=E.f,me=ye.set,be=r.MutationObserver||r.WebKitMutationObserver,we=r.document,Se=r.process,Oe=r.Promise,je=ge(r,"queueMicrotask"),Ae=je&&je.value;Ae||(ue=function(){var t,n;for(Kn&&(t=Se.domain)&&t.exit();ae;){n=ae.fn,ae=ae.next;try{n()}catch(t){throw ae?se():fe=void 0,t}}fe=void 0,t&&t.enter()},Yn||Kn||de||!be||!we?Oe&&Oe.resolve?(ve=Oe.resolve(void 0),he=ve.then,se=function(){he.call(ve,ue)}):se=Kn?function(){Se.nextTick(ue)}:function(){me.call(r,ue)}:(le=!0,pe=we.createTextNode(""),new be(ue).observe(pe,{characterData:!0}),se=function(){pe.data=le=!le}));var Ee,Te,Pe,_e,Le=Ae||function(t){var n={fn:t,next:void 0};fe&&(fe.next=n),ae||(ae=n,se()),fe=n},xe=function(t){var n,e;this.promise=new t((function(t,r){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=r})),this.resolve=Kt(n),this.reject=Kt(e)},ke={f:function(t){return new xe(t)}},Ie=function(t,n){if(T(t),d(n)&&n.constructor===t)return n;var e=ke.f(t);return(0,e.resolve)(n),e.promise},Me=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Ce=ye.set,Re=Ft("species"),Fe="Promise",Ne=$.get,De=$.set,Ge=$.getterFor(Fe),Ve=Dn,ze=r.TypeError,Be=r.document,He=r.process,Ue=rt("fetch"),We=ke.f,qe=We,Ye=!!(Be&&Be.createEvent&&r.dispatchEvent),Ke="function"==typeof PromiseRejectionEvent,Xe=Pt(Fe,(function(){if(!(F(Ve)!==String(Ve))){if(66===An)return!0;if(!Kn&&!Ke)return!0}if(An>=51&&/native code/.test(Ve))return!1;var t=Ve.resolve(1),n=function(t){t((function(){}),(function(){}))};return(t.constructor={})[Re]=n,!(t.then((function(){}))instanceof n)})),Je=Xe||!yn((function(t){Ve.all(t).catch((function(){}))})),Qe=function(t){var n;return!(!d(t)||"function"!=typeof(n=t.then))&&n},Ze=function(t,n){if(!t.notified){t.notified=!0;var e=t.reactions;Le((function(){for(var r=t.value,o=1==t.state,i=0;e.length>i;){var c,u,a,f=e[i++],s=o?f.ok:f.fail,l=f.resolve,p=f.reject,v=f.domain;try{s?(o||(2===t.rejection&&er(t),t.rejection=1),!0===s?c=r:(v&&v.enter(),c=s(r),v&&(v.exit(),a=!0)),c===f.promise?p(ze("Promise-chain cycle")):(u=Qe(c))?u.call(c,l,p):l(c)):p(r)}catch(t){v&&!a&&v.exit(),p(t)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&tr(t)}))}},$e=function(t,n,e){var o,i;Ye?((o=Be.createEvent("Event")).promise=n,o.reason=e,o.initEvent(t,!1,!0),r.dispatchEvent(o)):o={promise:n,reason:e},!Ke&&(i=r["on"+t])?i(o):"unhandledrejection"===t&&function(t,n){var e=r.console;e&&e.error&&(1===arguments.length?e.error(t):e.error(t,n))}("Unhandled promise rejection",e)},tr=function(t){Ce.call(r,(function(){var n,e=t.facade,r=t.value;if(nr(t)&&(n=Me((function(){Kn?He.emit("unhandledRejection",r,e):$e("unhandledrejection",e,r)})),t.rejection=Kn||nr(t)?2:1,n.error))throw n.value}))},nr=function(t){return 1!==t.rejection&&!t.parent},er=function(t){Ce.call(r,(function(){var n=t.facade;Kn?He.emit("rejectionHandled",n):$e("rejectionhandled",n,t.value)}))},rr=function(t,n,e){return function(r){t(n,r,e)}},or=function(t,n,e){t.done||(t.done=!0,e&&(t=e),t.value=n,t.state=2,Ze(t,!0))},ir=function(t,n,e){if(!t.done){t.done=!0,e&&(t=e);try{if(t.facade===n)throw ze("Promise can't be resolved itself");var r=Qe(n);r?Le((function(){var e={done:!1};try{r.call(n,rr(ir,e,t),rr(or,e,t))}catch(n){or(e,n,t)}})):(t.value=n,t.state=1,Ze(t,!1))}catch(n){or({done:!1},n,t)}}};Xe&&(Ve=function(t){!function(t,n,e){if(!(t instanceof n))throw TypeError("Incorrect "+(e?e+" ":"")+"invocation")}(this,Ve,Fe),Kt(t),Ee.call(this);var n=Ne(this);try{t(rr(ir,n),rr(or,n))}catch(t){or(n,t)}},(Ee=function(t){De(this,{type:Fe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,n,e){for(var r in n)tt(t,r,n[r],e);return t}(Ve.prototype,{then:function(t,n){var e=Ge(this),r=We(qn(this,Ve));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=Kn?He.domain:void 0,e.parent=!0,e.reactions.push(r),0!=e.state&&Ze(e,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Te=function(){var t=new Ee,n=Ne(t);this.promise=t,this.resolve=rr(ir,n),this.reject=rr(or,n)},ke.f=We=function(t){return t===Ve||t===Pe?new Te(t):qe(t)},"function"==typeof Dn&&(_e=Dn.prototype.then,tt(Dn.prototype,"then",(function(t,n){var e=this;return new Ve((function(t,n){_e.call(e,t,n)})).then(t,n)}),{unsafe:!0}),"function"==typeof Ue&&Lt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Ie(Ve,Ue.apply(r,arguments))}}))),Lt({global:!0,wrap:!0,forced:Xe},{Promise:Ve}),zn(Ve,Fe,!1),function(t){var n=rt(t),e=_.f;i&&n&&!n[Bn]&&e(n,Bn,{configurable:!0,get:function(){return this}})}(Fe),Pe=rt(Fe),Lt({target:Fe,stat:!0,forced:Xe},{reject:function(t){var n=We(this);return n.reject.call(void 0,t),n.promise}}),Lt({target:Fe,stat:!0,forced:Xe},{resolve:function(t){return Ie(this,t)}}),Lt({target:Fe,stat:!0,forced:Je},{all:function(t){var n=this,e=We(n),r=e.resolve,o=e.reject,i=Me((function(){var e=Kt(n.resolve),i=[],c=0,u=1;Un(t,(function(t){var a=c++,f=!1;i.push(void 0),u++,e.call(n,t).then((function(t){f||(f=!0,i[a]=t,--u||r(i))}),o)})),--u||r(i)}));return i.error&&o(i.value),e.promise},race:function(t){var n=this,e=We(n),r=e.reject,o=Me((function(){var o=Kt(n.resolve);Un(t,(function(t){o.call(n,t).then(e.resolve,r)}))}));return o.error&&r(o.value),e.promise}});var cr=!!Dn&&o((function(){Dn.prototype.finally.call({then:function(){}},(function(){}))}));Lt({target:"Promise",proto:!0,real:!0,forced:cr},{finally:function(t){var n=qn(this,rt("Promise")),e="function"==typeof t;return this.then(e?function(e){return Ie(n,t()).then((function(){return e}))}:t,e?function(e){return Ie(n,t()).then((function(){throw e}))}:t)}}),"function"!=typeof Dn||Dn.prototype.finally||tt(Dn.prototype,"finally",rt("Promise").prototype.finally);var ur,ar,fr,sr=function(t){return function(n,e){var r,o,i=String(h(n)),c=ct(e),u=i.length;return c<0||c>=u?t?"":void 0:(r=i.charCodeAt(c))<55296||r>56319||c+1===u||(o=i.charCodeAt(c+1))<56320||o>57343?t?i.charAt(c):r:t?i.slice(c,c+2):o-56320+(r-55296<<10)+65536}},lr={codeAt:sr(!1),charAt:sr(!0)},pr=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),vr=U("IE_PROTO"),hr=Object.prototype,yr=pr?Object.getPrototypeOf:function(t){return t=xt(t),b(t,vr)?t[vr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?hr:null},dr=Ft("iterator"),gr=!1;[].keys&&("next"in(fr=[].keys())?(ar=yr(yr(fr)))!==Object.prototype&&(ur=ar):gr=!0),(null==ur||o((function(){var t={};return ur[dr].call(t)!==t})))&&(ur={}),b(ur,dr)||L(ur,dr,(function(){return this}));var mr={IteratorPrototype:ur,BUGGY_SAFARI_ITERATORS:gr},br=mr.IteratorPrototype,wr=function(){return this},Sr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,n=!1,e={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),n=e instanceof Array}catch(t){}return function(e,r){return T(e),function(t){if(!d(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),n?t.call(e,r):e.__proto__=r,e}}():void 0),Or=mr.IteratorPrototype,jr=mr.BUGGY_SAFARI_ITERATORS,Ar=Ft("iterator"),Er=function(){return this},Tr=function(t,n,e,r,o,i,c){!function(t,n,e){var r=n+" Iterator";t.prototype=Ut(br,{next:f(1,e)}),zn(t,r,!1),Zt[r]=wr}(e,n,r);var u,a,s,l=function(t){if(t===o&&d)return d;if(!jr&&t in h)return h[t];switch(t){case"keys":case"values":case"entries":return function(){return new e(this,t)}}return function(){return new e(this)}},p=n+" Iterator",v=!1,h=t.prototype,y=h[Ar]||h["@@iterator"]||o&&h[o],d=!jr&&y||l(o),g="Array"==n&&h.entries||y;if(g&&(u=yr(g.call(new t)),Or!==Object.prototype&&u.next&&(yr(u)!==Or&&(Sr?Sr(u,Or):"function"!=typeof u[Ar]&&L(u,Ar,Er)),zn(u,p,!0))),"values"==o&&y&&"values"!==y.name&&(v=!0,d=function(){return y.call(this)}),h[Ar]!==d&&L(h,Ar,d),Zt[n]=d,o)if(a={values:l("values"),keys:i?d:l("keys"),entries:l("entries")},c)for(s in a)(jr||v||!(s in h))&&tt(h,s,a[s]);else Lt({target:n,proto:!0,forced:jr||v},a);return a},Pr=lr.charAt,_r=$.set,Lr=$.getterFor("String Iterator");Tr(String,"String",(function(t){_r(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,n=Lr(this),e=n.string,r=n.index;return r>=e.length?{value:void 0,done:!0}:(t=Pr(e,r),n.index+=t.length,{value:t,done:!1})}));var xr=$.set,kr=$.getterFor("Array Iterator"),Ir=Tr(Array,"Array",(function(t,n){xr(this,{type:"Array Iterator",target:y(t),index:0,kind:n})}),(function(){var t=kr(this),n=t.target,e=t.kind,r=t.index++;return!n||r>=n.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==e?{value:r,done:!1}:"values"==e?{value:n[r],done:!1}:{value:[r,n[r]],done:!1}}),"values");Zt.Arguments=Zt.Array,Yt("keys"),Yt("values"),Yt("entries");var Mr=_.f,Cr=Function.prototype,Rr=Cr.toString,Fr=/^\s*function ([^ (]*)/;i&&!("name"in Cr)&&Mr(Cr,"name",{configurable:!0,get:function(){try{return Rr.call(this).match(Fr)[1]}catch(t){return""}}});var Nr={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Dr=Ft("iterator"),Gr=Ft("toStringTag"),Vr=Ir.values;for(var zr in Nr){var Br=r[zr],Hr=Br&&Br.prototype;if(Hr){if(Hr[Dr]!==Vr)try{L(Hr,Dr,Vr)}catch(t){Hr[Dr]=Vr}if(Hr[Gr]||L(Hr,Gr,zr),Nr[zr])for(var Ur in Ir)if(Hr[Ur]!==Ir[Ur])try{L(Hr,Ur,Ir[Ur])}catch(t){Hr[Ur]=Ir[Ur]}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wr=function(t,n){return(Wr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)};var qr=function(t){function n(n){var e=t.call(this)||this;return n instanceof Error?(e.originalError=n,n=n.message):(e.originalError=new Error(n),e.originalError.stack=e.stack),e.name="AbortError",e.message=n,e}return function(t,n){function e(){this.constructor=t}Wr(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}(n,t),n}(Error);function Yr(t,n){if(!Array.isArray(t))throw new Error("task必须为数组类型");if(!t.length)return Promise.resolve([]);var e=n||{},r=e.limit,o=void 0===r?t.length:r,i=e.race,c=void 0===i?0:i,u=t.slice(),a=t.length;return new Promise((function(n){var e=Array.from({length:t.length}).fill(new Error("空数据")),r=0;function i(){if(u.length){var o=a-u.length,f=u.shift();if(f)(c?function(t,n){if(!t)throw new Error("task不能为空");var e=(n||{}).time,r=void 0===e?0:e;return new Promise((function(n,e){var o;Promise.race([t(),(o=r,new Promise((function(t){setTimeout((function(){t(new qr("请求超时！"))}),o)})))]).then((function(t){t instanceof qr?e(t):n(t)}))}))}(f,{time:c}):f()).then((function(t){e[o]=t})).catch((function(t){e[o]=t})).finally((function(){(r+=1)>=t.length?n(e):i()}))}}for(var f=0;f<o;f++)i()}))}var Kr=function(t){return new Promise((function(n){setTimeout((function(){n(t)}),t)}))};function Xr(t,n){if(!t)throw new Error("task不能为空");var e=(n||{}).time,r=void 0===e?1:e;return new Promise((function(n,e){var o=1;!function i(){t().then(n).catch((function(t){o>=r?e(t):(o+=1,i())}))}()}))}export{Xr as retry,Kr as sleep,Yr as warmAll};
